import streamlit as st
import streamlit.components.v1 as components

def render_user_guide_page():
    """Renders the interactive HTML user guide within the Streamlit app."""
    st.title("üí° User Guide & Help")
    st.markdown("An interactive guide to the AI Ministry & Content Suite. All the information you need in one place.")
    
    html_content = """
    <!DOCTYPE html>
    <html lang="en" class="scroll-smooth">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>User Guide: AI Ministry & Content Suite</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <style>
            body {
                font-family: 'Inter', sans-serif;
                background-color: #FDFBF8;
                color: #4A4A4A;
                margin: 0;
                padding: 0;
            }
            .accent-color { color: #D97706; }
            .bg-accent { background-color: #D97706; }
            .bg-accent-hover:hover { background-color: #B45309; }
            .card {
                background-color: #FFFFFF; border: 1px solid #F3F4F6; border-radius: 0.75rem;
                box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
                transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            }
            .card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07); }
            .accordion-header.active .accordion-arrow { transform: rotate(180deg); }
        </style>
    </head>
    <body class="antialiased">
        <header id="home" class="sticky top-0 z-50 bg-white/80 backdrop-blur-lg shadow-sm">
            <nav class="container mx-auto px-6 py-4">
                <div class="flex items-center justify-between">
                    <a href="#home" class="text-2xl font-bold text-gray-800">‚ú® AI Suite Guide</a>
                    <div class="hidden md:flex items-center space-x-8">
                        <a href="#features" class="text-gray-600 hover:text-amber-600">Features</a>
                        <a href="#gemini" class="text-gray-600 hover:text-amber-600">Why Gemini?</a>
                        <a href="#faq" class="text-gray-600 hover:text-amber-600">FAQ</a>
                    </div>
                    <a href="#api-keys" class="hidden md:block bg-accent text-white px-4 py-2 rounded-full font-semibold bg-accent-hover">Get API Keys</a>
                </div>
            </nav>
        </header>
        <main class="container mx-auto px-6 py-12 md:py-20">
            <section class="text-center">
                <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900">Welcome to the <span class="accent-color">AI Ministry & Content Suite</span></h1>
                <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Your AI-Powered Partner for Creativity, Learning, and Ministry. This guide will walk you through everything you need to know to master each creative studio.</p>
            </section>
            <section id="features" class="mt-20 md:mt-28">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900">Explore the Creative Studios</h2>
                <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üìñ Sermon Generator</h3><p class="text-gray-600">Create a complete, biblically-sound sermon on any topic, in multiple languages.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üöÄ Flyer Production Studio</h3><p class="text-gray-600">Design a flyer concept, write social media copy, and generate the final image.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üñºÔ∏è Image Editing Studio</h3><p class="text-gray-600">Upload one or more images, describe your edits, add text, and generate a new composite image.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üé∂ Worship Song Studio</h3><p class="text-gray-600">Write lyrics and create a musical concept for a new worship song.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üìö Book Writing Studio</h3><p class="text-gray-600">Outline your book, then collaborate with an AI writing team to draft it chapter by chapter.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üåç Bible Study Generator</h3><p class="text-gray-600">Generate in-depth guides for any book of the Bible or create devotionals on specific topics.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">‚úùÔ∏è Street Evangelism & Apologetics</h3><p class="text-gray-600">Get biblically sound answers to tough questions or generate a practical guide for beginners to evangelism.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üì∞ Newsroom HQ</h3><p class="text-gray-600">Commission a complete digital newspaper with articles on various topics.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üé¨ Viral Video Studio</h3><p class="text-gray-600">Create concepts for short-form videos, from 5-part series to single clips.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üó£Ô∏è AI Language Academy</h3><p class="text-gray-600">Generate a personalized, 10-lesson language course for any proficiency level.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üç≥ AI Chef Studio</h3><p class="text-gray-600">Get a three-course meal plan with recipes and AI prompts to visualize the dishes.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üéôÔ∏è AI Podcast Studio</h3><p class="text-gray-600">Generate a complete, multi-speaker podcast episode from scratch.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üéì AI Tutor Suite</h3><p class="text-gray-600">Get expert help with homework questions for K-12 and University levels.</p></div>
                    <div class="card p-6"><h3 class="text-xl font-semibold text-gray-800 mb-3">üéß AI Audio Suite</h3><p class="text-gray-600">A multi-tool for audio: text-to-speech, translation, and transcription.</p></div>
                </div>
            </section>
            <section id="gemini" class="mt-20 md:mt-28">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900">The Power of Google Gemini</h2>
                <div class="mt-12 grid md:grid-cols-3 gap-8 text-center">
                    <div class="p-4"><h3 class="text-2xl font-semibold text-gray-800 mb-2">Flexibility & Control</h3><p class="text-gray-600">Choose the right model for the job. Use Gemini 1.5 Flash for speed and cost-efficiency, and Gemini 1.5 Pro for powerful, high-quality creative generation.</p></div>
                    <div class="p-4"><h3 class="text-2xl font-semibold text-gray-800 mb-2">Cost Management</h3><p class="text-gray-600">By selecting the appropriate model for each task, you can effectively manage your API usage costs.</p></div>
                    <div class="p-4"><h3 class="text-2xl font-semibold text-gray-800 mb-2">Multimodality</h3><p class="text-gray-600">Gemini is "multimodal," meaning it can process more than just text. This powers our studios for images, audio, and video.</p></div>
                </div>
                <div class="mt-8 text-center">
                    <a href="https://ai.google.dev/gemini-api/docs" target="_blank" class="text-amber-600 hover:text-amber-700 font-semibold transition-colors">
                        Read the Official Google Gemini API Documentation ‚Üí
                    </a>
                </div>
            </section>
            <section id="api-keys" class="mt-20 md:mt-28 max-w-4xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900">Setup & FAQ</h2>
                <div class="mt-12 space-y-4">
                    <div class="accordion-item border rounded-lg"><button class="accordion-header w-full text-left p-4 flex justify-between items-center text-lg font-semibold hover:bg-gray-50"><span>üîë How to Get Your API Keys</span><span class="accordion-arrow transition-transform">‚ñº</span></button><div class="accordion-content hidden p-4 border-t bg-white"><div class="prose max-w-none"><h4>Step 1: Get Your Google Gemini API Key (Required)</h4><ol><li><strong>Go to Google AI Studio:</strong> Navigate to the <a href="https://aistudio.google.com/" target="_blank" class="text-amber-600 hover:underline">Google AI Studio website</a>.</li><li><strong>Sign In:</strong> Log in with your Google account.</li><li><strong>Create API Key:</strong> Click on "Get API Key", then "Create API key in new project".</li><li><strong>Copy & Paste:</strong> Copy your new key and paste it into the app's sidebar.</li></ol><h4>Step 2: Get Your Serper.dev API Key (for Web Search)</h4><ol><li><strong>Go to Serper.dev:</strong> Navigate to the <a href="https://serper.dev/" target="_blank" class="text-amber-600 hover:underline">Serper website</a>.</li><li><strong>Sign Up:</strong> Create a free account.</li><li><strong>Find Your API Key:</strong> Your key is available on your account dashboard.</li><li><strong>Copy & Paste:</strong> Copy the key and paste it into the app's sidebar.</li></ol></div></div></div>
                    <div id="faq" class="accordion-item border rounded-lg"><button class="accordion-header w-full text-left p-4 flex justify-between items-center text-lg font-semibold hover:bg-gray-50"><span>My API key isn't working. What should I do?</span><span class="accordion-arrow transition-transform">‚ñº</span></button><div class="accordion-content hidden p-4 border-t bg-white"><ul class="list-disc list-inside space-y-2 text-gray-600"><li><strong>Check for Typos:</strong> The most common issue is a small typo. Try copying and pasting the key again.</li><li><strong>Correct Service:</strong> Ensure the Gemini key is in the Gemini field and the Serper key is in the Serper field.</li><li><strong>Check Google Cloud Project:</strong> For advanced services (like VEO), you may need a Google Cloud project with billing enabled.</li></ul></div></div>
                    <div class="accordion-item border rounded-lg"><button class="accordion-header w-full text-left p-4 flex justify-between items-center text-lg font-semibold hover:bg-gray-50"><span>Why did my content generation fail?</span><span class="accordion-arrow transition-transform">‚ñº</span></button><div class="accordion-content hidden p-4 border-t bg-white"><ul class="list-disc list-inside space-y-2 text-gray-600"><li><strong>Complex Request:</strong> Very complex tasks can sometimes time out. Try breaking the request into smaller parts.</li><li><strong>Safety Filters:</strong> If your prompt contains content that could be interpreted as sensitive, the model will refuse. Please try rephrasing your prompt.</li></ul></div></div>
                    <div class="accordion-item border rounded-lg"><button class="accordion-header w-full text-left p-4 flex justify-between items-center text-lg font-semibold hover:bg-gray-50"><span>How can I get better results from the AI?</span><span class="accordion-arrow transition-transform">‚ñº</span></button><div class="accordion-content hidden p-4 border-t bg-white"><ul class="list-disc list-inside space-y-2 text-gray-600"><li><strong>Be Specific:</strong> The more detail you provide, the better the AI understands your vision.</li><li><strong>Choose the Right Model:</strong> Use Gemini 1.5 Pro for tasks requiring high creativity. Use Gemini 1.5 Flash for speed and efficiency.</li><li><strong>Iterate:</strong> Don't be afraid to run a generation, review the output, and then adjust your prompt to refine the results.</li></ul></div></div>
                </div>
            </section>
        </main>
        <footer class="mt-20 md:mt-28 border-t"><div class="container mx-auto px-6 py-8 text-center text-gray-500"><p>&copy; 2025 AI Ministry & Content Suite. A tool for creativity and learning.</p></div></footer>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const accordionHeaders = document.querySelectorAll('.accordion-header');
                accordionHeaders.forEach(header => {
                    header.addEventListener('click', () => {
                        const content = header.nextElementSibling;
                        header.classList.toggle('active');
                        content.classList.toggle('hidden');
                    });
                });
            });
        </script>
    </body>
    </html>
    """
    components.html(html_content, height=1200, scrolling=True)